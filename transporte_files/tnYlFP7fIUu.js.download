if (self.CavalryLogger) { CavalryLogger.start_js(["v5owG"]); }

__d("NotificationsTabEnum",[],(function a(b,c,d,e,f,g){f.exports={CONVERSATIONS:"My Conversations",KEYWORDS:"Keywords"};}),null);
__d('NotificationsTabsModel',['fbt','EnterpriseLabsLoggingEvents','EnterpriseLabsTypedLogger'],(function a(b,c,d,e,f,g,h){var i={TABS:{all:h._("All"),myConversations:h._("My Conversations"),keywords:h._("Keywords")},onTabSelectionChanged:function j(){var k=this.props.children[this.getSelectedIndex()].key;new (c('EnterpriseLabsTypedLogger'))().setEntityID('tab:'+k).setEvent(c('EnterpriseLabsLoggingEvents').NT_CLICK_TAB).log();}};f.exports=i;}),null);
__d("XKeywordSubscribeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/keyword\/controller\/{?keyword_id}\/",{keyword_id:{type:"String"}});}),null);
__d('NotificationTabsController',['cx','React','LogicalGrid.react','NotificationsTabConfig','NotificationsTabsModel','SignalsTab.react','XKeywordSubscribeController'],(function a(b,c,d,e,f,g,h){var i={conversations:'https://our.intern.facebook.com/intern/wiki/IT_Frontpage'+'/Enterprise_Labs/Tabs_for_Notifications/#FAQ',keywords:c('XKeywordSubscribeController').getURIBuilder().getURI()},j={getSizeUnseenState:function k(l){var m={};for(var n in c('NotificationsTabsModel').TABS)m[c('NotificationsTabsModel').TABS[n]]=0;m.All=m.All||0;var o=[];for(var p in l){o.push(l[p].seen_state);if(l[p].seen_state in c('NotificationsTabConfig').notifs_unseen){m.All++;if(!isNaN(m[l[p].notifTab]))m[l[p].notifTab]++;}}return m;},getTabByName:function k(l,m,n,o){var p=m[l]||0;return c('React').createElement(c('SignalsTab.react'),{title:l,key:l,count:p},c('React').createElement(c('LogicalGrid.react'),{component:n},o),c('React').createElement('div',{className:"_57g3"},c('React').createElement('a',{href:i.conversations},'Learn More')));}};f.exports=j;}),null);
__d('NotificationJewelList.react',['cx','fbt','Animation','ErrorBoundary.react','Event','FunnelLogger','LogicalGrid.react','NotificationJewelFunnelLoggingConstants','NotificationListConfig','NotificationListItem.react','NotificationListPropTypes','NotificationsTabConfig','NotificationsTabEnum','NotificationsTabsModel','NotificationTabsController','NotificationVPVs','NotifTestIDs','QE2Logger','React','ReactDOM','ScrollableArea.react','SignalsTab.react','SignalsTabGroup.react','Vector','XUISpinner.react','debounce','getObjectValues','isEmpty'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('NotificationJewelFunnelLoggingConstants').FUNNEL_LOGGING_NAME,m=c('NotificationJewelFunnelLoggingConstants').FUNNEL_LOGGING_EVENT,n=c('NotificationListConfig').numStoriesFromEndBeforeAFetchIsTriggered,o=160,p=530,q=61,r=Math.ceil(q*n),s=64,t=430;j=babelHelpers.inherits(u,c('React').Component);k=j&&j.prototype;function u(){var v,w;'use strict';for(var x=arguments.length,y=Array(x),z=0;z<x;z++)y[z]=arguments[z];return w=(v=k.constructor).call.apply(v,[this].concat(y)),this.$NotificationJewelList6=function(){if(!this.$NotificationJewelList1||!this.$NotificationJewelList3)return;var aa=c('ReactDOM').findDOMNode(this.$NotificationJewelList1);if(!aa)return;var ba=c('ReactDOM').findDOMNode(this.$NotificationJewelList3);if(!ba)return;var ca=c('NotificationVPVs').getValidatedRectangle(ba);if(this.props.afterScroll)this.props.afterScroll(this.$NotificationJewelList4(),aa,ca);}.bind(this),this.$NotificationJewelList7=function(){return c('getObjectValues')(this.props.notifs).map(function(aa){return JSON.stringify(aa);});}.bind(this),this.$NotificationJewelList10=function(){c('FunnelLogger').appendAction(l,m.SCROLL_TO_FETCH);this.$NotificationJewelList6();}.bind(this),w;}u.prototype.$NotificationJewelList4=function(){'use strict';if(!this.$NotificationJewelList2||!this.$NotificationJewelList3)return false;var v=c('ReactDOM').findDOMNode(this.$NotificationJewelList3);if(!v)return false;var w=c('ReactDOM').findDOMNode(this.$NotificationJewelList2);if(!w)return false;var x=c('Vector').getElementDimensions(v).y;if(x===0)return false;var y=c('Vector').getElementPosition(v).y+x,z=c('Vector').getElementPosition(w).y;c('QE2Logger').logExposureForUser('www_notifications_perf_h2_2017');z-=r;return z<y;};u.prototype.$NotificationJewelList5=function(){'use strict';var v=c('Vector').getViewportDimensions().y,w=Math.min(this.props.maxHeight||p,v-o);if(this.props.upsell)return Math.max(w-s,0);return w;};u.prototype.$NotificationJewelList8=function(v,w){'use strict';var x=void 0;if(!v){x=function z(aa){return aa;};}else x=function z(aa){if(aa.notifTab===w)return aa;return null;};var y=c('getObjectValues')(this.props.notifs).filter(x).map(function(z){return z.alert_id;});return c('getObjectValues')(this.props.notifs).filter(x).map(function(z,aa){var ba=z.alert_id,ca=this.$NotificationJewelList9(ba,y);return c('React').createElement(c('ErrorBoundary.react'),{key:ba},c('React').createElement(c('NotificationListItem.react'),{getDebugData:this.$NotificationJewelList7,isRead:this.props.readState[ba],negativeTracking:this.props.negativeTracking,onChevronHide:this.props.onChevronHide,onChevronShow:this.props.onChevronShow,onRead:this.props.onRead,parent:this,paused:this.props.paused,row:ca,rowIndex:aa,shortenTimestamp:this.props.shortenTimestamp,visible:!this.props.hiddenState[ba],notification:z}));}.bind(this));};u.prototype.componentDidMount=function(){'use strict';if(!this.$NotificationJewelList3)return;var v=c('ReactDOM').findDOMNode(this.$NotificationJewelList3);c('Event').listen(window,'resize',c('debounce')(function(){if(!c('isEmpty')(this.props.notifs))new (c('Animation'))(v).to('height',this.$NotificationJewelList5()+'px').duration(100).go();}.bind(this)));};u.prototype.componentDidUpdate=function(v){'use strict';if(this.props.paused&&!v.paused)if(this.props.shouldScroll&&this.$NotificationJewelList3){var w=this.$NotificationJewelList3.getArea();if(w)w.scrollToTop(false);}setTimeout(this.$NotificationJewelList6,0);};u.prototype.$NotificationJewelList9=function(v,w){'use strict';return w.indexOf(v);};u.prototype.render=function(){'use strict';var v=this.props.notifs,w=null,x=null,y=t,z=null,aa=c('React').createElement('ul',{'data-gt':this.props.tracking,'data-testid':c('NotifTestIDs').REACT_NOTIF_LIST});if(!c('isEmpty')(v)){w=c('React').createElement(c('LogicalGrid.react'),{ref:function(ma){return this.$NotificationJewelList1=ma;}.bind(this),component:aa},this.$NotificationJewelList8(false,''));x=this.$NotificationJewelList5();}else if(!this.props.canFetchMore)w=c('React').createElement('div',{className:"_572e",'data-testid':c('NotifTestIDs').REACT_NOTIF_LIST},i._("Sem novas notifica\u00e7\u00f5es"));if(this.props.canFetchMore)z=c('React').createElement(c('XUISpinner.react'),{ref:function(ma){return this.$NotificationJewelList2=ma;}.bind(this),paused:!this.props.currentlyFetching,className:"jewelLoading"});var ba=null;if(this.props.upsell){var ca=this.props.upsell.module;ba=c('React').createElement(ca,this.props.upsell.props);}var da="_50-t"+(this.props.showingChevron?' '+"_2iy1":''),ea=c('React').createElement(c('ScrollableArea.react'),{ref:function(ma){return this.$NotificationJewelList3=ma;}.bind(this),width:y,height:x,fade:true,persistent:true,onScroll:c('debounce')(this.$NotificationJewelList10,200)},w,z);if(c('NotificationsTabConfig').in_gk_notifications_tab&&c('NotificationsTabConfig').is_work_user){var fa=true,ga=this.$NotificationJewelList8(fa,c('NotificationsTabEnum').CONVERSATIONS),ha=this.$NotificationJewelList8(fa,c('NotificationsTabEnum').KEYWORDS),ia=c('NotificationTabsController').getSizeUnseenState(v),ja=c('NotificationTabsController').getTabByName(c('NotificationsTabsModel').TABS.myConversations,ia,aa,ga),ka=c('NotificationTabsController').getTabByName(c('NotificationsTabsModel').TABS.keywords,ia,aa,ha),la=c('NotificationsTabsModel').TABS.all;ea=c('React').createElement(c('SignalsTabGroup.react'),{onSelectionChanged:c('NotificationsTabsModel').onTabSelectionChanged},c('React').createElement(c('SignalsTab.react'),{title:la,key:la,count:ia[la]},ea),ja,ka);}return c('React').createElement('div',{className:da},ea,ba);};u.propTypes=c('NotificationListPropTypes');f.exports=u;}),null);